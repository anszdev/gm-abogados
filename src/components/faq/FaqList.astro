---
import FaqItem from "./FaqItem.astro";

const faqs = [
  {
    id: "despido-sin-liquidacion-que-hacer",
    question: "¬øMe despidieron sin liquidaci√≥n, qu√© hago?",
    answer: `Si te despidieron sin pagarte liquidaci√≥n, finiquito o prestaciones, <strong>NO firmes ning√∫n documento</strong> (ni renuncia ni finiquito) sin asesor√≠a legal.
    
Tienes derecho a reclamar:
‚Ä¢ <strong>3 meses de salario</strong> (indemnizaci√≥n constitucional)
‚Ä¢ <strong>20 d√≠as de salario por cada a√±o trabajado</strong> (prima de antig√ºedad)
‚Ä¢ <strong>Aguinaldo, vacaciones y prima vacacional</strong> proporcionales
‚Ä¢ <strong>Salarios ca√≠dos</strong> desde el despido hasta la resoluci√≥n

‚ö†Ô∏è <strong>Importante:</strong> Solo tienes 2 meses para demandar. <a href="#contact">Agenda una consulta gratis ahora</a> y recupera lo que te corresponde.`,
    category: "Despido",
  },
  {
    id: "cuanto-tiempo-demandar-despido",
    question: "¬øCu√°nto tiempo tengo para demandar por despido injustificado?",
    answer: `Tienes <strong>solo 2 meses (60 d√≠as naturales)</strong> contados desde el d√≠a siguiente a tu despido para presentar tu demanda laboral ante la Junta de Conciliaci√≥n.
    
<strong>‚è∞ ¬øQu√© pasa si se vence el plazo?</strong>
Pierdes tu derecho legal a reclamar tu liquidaci√≥n, indemnizaci√≥n y prestaciones. No hay excepciones ni pr√≥rrogas.

<strong>üö® Ya pas√≥ m√°s de 1 mes:</strong> Agenda una <a href="#contact">consulta de emergencia gratuita</a> hoy mismo. A√∫n est√°s a tiempo.`,
    category: "Plazos",
  },
  {
    id: "liquidacion-vs-finiquito-diferencia",
    question: "¬øCu√°l es la diferencia entre liquidaci√≥n y finiquito?",
    answer: `<strong>FINIQUITO:</strong> Se paga cuando renuncias voluntariamente o termina tu contrato. Incluye:
‚Ä¢ Aguinaldo proporcional
‚Ä¢ Vacaciones no disfrutadas
‚Ä¢ Prima vacacional
‚Ä¢ Salarios pendientes

<strong>LIQUIDACI√ìN:</strong> Se paga SOLO en despido injustificado. Incluye TODO lo del finiquito M√ÅS:
‚Ä¢ 3 meses de salario (indemnizaci√≥n)
‚Ä¢ 20 d√≠as de salario por a√±o trabajado
‚Ä¢ Salarios ca√≠dos

<strong>üí° Ejemplo real:</strong> Si ganabas $10,000 al mes y trabajaste 5 a√±os:
‚Ä¢ Finiquito: ~$15,000
‚Ä¢ Liquidaci√≥n: <strong>~$80,000 - $150,000</strong>

<a href="#contact">Calcula tu liquidaci√≥n gratis aqu√≠</a>.`,
    category: "Liquidaci√≥n",
  },
  {
    id: "cuanto-cuesta-abogado-laboral",
    question: "¬øCu√°nto cuesta un abogado laboralista? ¬øCu√°ndo tengo que pagar?",
    answer: `<strong>Con nosotros: $0 pesos por adelantado.</strong>

Trabajamos bajo el modelo de <strong>"√©xito compartido":</strong>
‚úÖ <strong>Consulta inicial:</strong> 100% GRATIS
‚úÖ <strong>Presentaci√≥n de demanda:</strong> SIN COSTO
‚úÖ <strong>Seguimiento del caso:</strong> SIN ANTICIPO
‚úÖ <strong>Honorarios:</strong> Solo cobramos un % SI ganamos

<strong>Si no recuperas dinero, no pagas nada.</strong> As√≠ de simple.

No pagas:
‚Ä¢ Costas judiciales iniciales
‚Ä¢ Peritajes
‚Ä¢ Tr√°mites administrativos
‚Ä¢ Asesor√≠as durante el proceso

<a href="#contact">Agenda tu consulta gratis y sin compromiso</a>.`,
    category: "Costos",
  },
  {
    id: "firme-renuncia-puedo-demandar",
    question: "Ya firm√© mi renuncia o finiquito, ¬øa√∫n puedo demandar?",
    answer: `<strong>S√ç, en muchos casos a√∫n puedes demandar</strong>, incluso si firmaste.

La Suprema Corte ha establecido que firmar bajo:
‚Ä¢ Presi√≥n o amenazas
‚Ä¢ Falta de informaci√≥n clara
‚Ä¢ Montos incorrectos o incompletos
‚Ä¢ Enga√±o ("firma esto y luego te pagamos")

<strong>NO elimina tu derecho a demandar.</strong>

Hemos ganado +150 casos donde el trabajador hab√≠a firmado documentos. Lo importante es:
1. <strong>No esperar m√°s tiempo</strong> (tienes 2 meses)
2. <strong>Traer el documento firmado</strong> a consulta
3. <strong>Explicar las circunstancias</strong> de la firma

<a href="#contact">Consulta gratis: Evaluamos si tu firma es v√°lida</a>.`,
    category: "Objeciones",
  },
  {
    id: "cuanto-tarda-demanda-laboral",
    question: "¬øCu√°nto tiempo tarda un juicio laboral en M√©xico?",
    answer: `Depende de la v√≠a que elijamos:

<strong>1. Conciliaci√≥n (recomendado si es viable):</strong>
‚è±Ô∏è 1-3 meses promedio
üí∞ Cobras m√°s r√°pido
‚úÖ Menor desgaste

<strong>2. Juicio tradicional:</strong>
‚è±Ô∏è 6-18 meses promedio
üí∞ Posibilidad de mayor indemnizaci√≥n
‚öñÔ∏è Sentencia judicial

<strong>¬øCu√°l es mejor para ti?</strong>
En la consulta gratis evaluamos tu caso y te recomendamos la mejor estrategia seg√∫n:
‚Ä¢ Urgencia econ√≥mica
‚Ä¢ Fortaleza de tu caso
‚Ä¢ Actitud del empleador

<a href="#contact">Agenda consulta y conoce tu mejor opci√≥n</a>.`,
    category: "Proceso",
  },
  {
    id: "cuanto-me-toca-por-despido",
    question: "¬øCu√°nto dinero me corresponde por despido injustificado?",
    answer: `Tu liquidaci√≥n depende de tu salario y antig√ºedad. <strong>F√≥rmula b√°sica:</strong>

<strong>Conceptos obligatorios:</strong>
‚Ä¢ 3 meses de salario (indemnizaci√≥n constitucional)
‚Ä¢ 20 d√≠as de salario √ó a√±os trabajados (prima de antig√ºedad)
‚Ä¢ Aguinaldo proporcional
‚Ä¢ Vacaciones no disfrutadas + prima vacacional
‚Ä¢ Salarios ca√≠dos (desde despido hasta pago)

<strong>üìä Ejemplos reales:</strong>

<strong>Caso 1:</strong> Salario $8,000/mes, 2 a√±os trabajados
= <strong>~$50,000 - $80,000</strong>

<strong>Caso 2:</strong> Salario $15,000/mes, 5 a√±os trabajados
= <strong>~$120,000 - $200,000</strong>

<strong>Caso 3:</strong> Salario $25,000/mes, 10 a√±os trabajados
= <strong>~$350,000 - $500,000</strong>

<a href="#contact">Calcula GRATIS tu liquidaci√≥n exacta aqu√≠</a>.`,
    category: "Montos",
  },
  {
    id: "documentos-necesarios-demanda",
    question: "¬øQu√© documentos necesito para demandar?",
    answer: `<strong>Documentos b√°sicos (si los tienes):</strong>
‚úÖ Contrato de trabajo
‚úÖ √öltimos recibos de n√≥mina
‚úÖ Avisos de IMSS o comprobantes de afiliaci√≥n
‚úÖ Identificaci√≥n oficial
‚úÖ Finiquito o carta de despido (si te dieron)

<strong>‚ö†Ô∏è ¬øNo tienes documentos?</strong>
<strong>¬°No hay problema!</strong> Podemos demandar igual.

Nosotros solicitamos a la autoridad:
‚Ä¢ Movimientos afiliatorios del IMSS
‚Ä¢ Registro patronal
‚Ä¢ Comprobantes de salario

<strong>No tener papeles NO impide que demandes.</strong>

<a href="#contact">Consulta gratis: Evaluamos tu caso con o sin documentos</a>.`,
    category: "Requisitos",
  },
];
---

<div class="gm_faq-list">
  {
    faqs.map(({ question, answer }, index) => (
      <div class={index >= 4 ? "hidden-faq" : ""}>
        <FaqItem answer={answer} question={question} name="faq" />
      </div>
    ))
  }
  <div class="gm_faq-more-button-container">
    <button id="showMoreFaq" class="gm_faq-more-button">
      Ver m√°s preguntas frecuentes
    </button>
  </div>
</div>

<style>
  :root {
    interpolate-size: allow-keywords;
  }

  .gm_faq-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 4rem;
  }

  .hidden-faq {
    display: none;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
  }

  .hidden-faq.show {
    display: block;
    opacity: 1;
  }

  .gm_faq-more-button-container {
    display: flex;
    justify-content: end;
    margin-top: 2rem;
  }

  .gm_faq-more-button {
    border: none;
    background: none;
    color: var(--gm-accent);
    font-weight: 500;
    font-size: 1.1rem;
    cursor: pointer;
    transition: opacity 0.2s ease;
  }

  .gm_faq-more-button:hover {
    opacity: 0.8;
  }
</style>

<script>
  // Esperamos a que el DOM est√© completamente cargado
  document.addEventListener("DOMContentLoaded", () => {
    const showMoreButton = document.getElementById("showMoreFaq");
    const hiddenFaqs = document.querySelectorAll(".hidden-faq");
    let isExpanded = false;

    if (showMoreButton && hiddenFaqs.length > 0) {
      showMoreButton.addEventListener("click", () => {
        isExpanded = !isExpanded;

        hiddenFaqs.forEach((faq) => {
          (faq as HTMLElement).style.display = isExpanded ? "block" : "none";
          // Forzamos un reflow antes de a√±adir la clase show
          void (faq as HTMLElement).offsetWidth;

          if (isExpanded) {
            faq.classList.add("show");
          } else {
            faq.classList.remove("show");
          }
        });

        showMoreButton.textContent = isExpanded
          ? "Ver menos preguntas"
          : "Ver m√°s preguntas frecuentes";
      });
    }
  });
</script>
